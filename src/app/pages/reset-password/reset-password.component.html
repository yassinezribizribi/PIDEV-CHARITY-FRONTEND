<app-navbar></app-navbar>

<div class="reset-password-container">
  <h2>RÃ©initialisation du mot de passe</h2>

  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
    <div class="input-group">
      <label for="password">Nouveau mot de passe</label>
      <input 
        id="password" 
        formControlName="password" 
        type="password" 
        placeholder="Votre nouveau mot de passe" 
        class="input-field"
      >
      <div *ngIf="resetPasswordForm.get('password')?.touched && resetPasswordForm.get('password')?.invalid" class="error-message">
        <small *ngIf="resetPasswordForm.get('password')?.errors?.['required']">Mot de passe requis</small>
        <small *ngIf="resetPasswordForm.get('password')?.errors?.['minlength']">Au moins 6 caractÃ¨res</small>
      </div>
    </div>

    <div class="input-group">
      <label for="confirmPassword">Confirmez le mot de passe</label>
      <input 
        id="confirmPassword" 
        formControlName="confirmPassword" 
        type="password" 
        placeholder="Confirmez votre mot de passe" 
        class="input-field"
      >
    </div>

    <button type="submit" [disabled]="resetPasswordForm.invalid" class="submit-button">RÃ©initialiser</button>
  </form>

  <div *ngIf="resetToken">
    <p class="text-muted">ğŸ”‘ Reset Token utilisÃ© : {{ resetToken }}</p>
  </div>
</div>

<app-footer></app-footer>
