<app-navbar></app-navbar>

<!-- Hero Section -->
<section class="bg-half-170 d-table w-100" style="background: url('assets/images/hero/pages.jpg') center;">
  <div class="bg-overlay bg-gradient-overlay"></div>
  <div class="container">
    <div class="row mt-5 justify-content-center">
      <div class="col-12 text-center">
        <h5 class="heading fw-semibold text-white title-dark">Animaux à Adopter</h5>
        <!-- Navigation Button to Add Animals -->
        <a routerLink="/add-animals" class="btn btn-primary mt-3">Ajouter un Animal</a>
        <p *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</p>
      </div>
    </div>
  </div>
  <div class="position-middle-bottom">
    <nav aria-label="breadcrumb" class="d-block">
      <ul class="breadcrumb breadcrumb-muted mb-0 p-0">
        <li class="breadcrumb-item"><a [routerLink]="'/index'">Smilecare</a></li>
        <li class="breadcrumb-item active" aria-current="page"> Animals</li>
    </ul>
    </nav>
  </div>
</section>

<div class="position-relative">
  <div class="shape overflow-hidden text-white">
    <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z" fill="currentColor"></path>
    </svg>
  </div>
</div>

<!-- Animals List -->
<section class="section">
  <div class="container">
    <div class="row">
      <!-- Liste des animaux -->
      <div class="col-lg-8 col-md-7">
        <div class="row g-6">
          <div *ngFor="let animal of animals" class="col-lg-6 col-md-6 col-12 mb-4">
            <a [routerLink]="['/animal-profile', animal.idAnimal]" class="text-decoration-none">
              <div class="card animal-card text-center">
                <div class="card-img">

                  <img [src]="'http://localhost:8089/api/animals/images/' + animal.imagePath" class="img-fluid rounded-top" alt="{{ animal.name }}">
                </div>
                <div class="card-body bg-white p-4 rounded-bottom shadow">
                  <h5 class="card-title mb-2">{{ animal.name }}</h5>
                  <p class="card-text text-muted mb-3">{{ animal.animalSpecies }} - {{ animal.race }}</p>
                  <div class="d-flex justify-content-center align-items-center gap-2 mb-3">
                    <span *ngIf="animal.isAdopted" class="badge status-badge adopted">Adopté</span>
                    <span *ngIf="!animal.isAdopted" class="badge status-badge available">Disponible</span>
                  </div>
        <!--  <button class="btn delete-btn" (click)="deleteAnimal(animal.idAnimal); $event.stopPropagation()">Supprimer</button> -->  
                </div>
              </div>
            </a>
          </div>
        </div>

        <!-- Pagination -->
        <div class="row">
          <div class="col-12 mt-4 pt-2">
            <ul class="pagination justify-content-center mb-0">
              <li class="page-item">
                <a class="page-link" routerLink="#" (click)="$event.preventDefault()" aria-label="Previous">
                  <span aria-hidden="true"><i class="mdi mdi-chevron-left align-middle fs-6"></i></span>
                </a>
              </li>
              <li class="page-item"><a class="page-link" routerLink="#" (click)="$event.preventDefault()">1</a></li>
              <li class="page-item active"><a class="page-link" routerLink="#" (click)="$event.preventDefault()">2</a></li>
              <li class="page-item"><a class="page-link" routerLink="#" (click)="$event.preventDefault()">3</a></li>
              <li class="page-item">
                <a class="page-link" routerLink="#" (click)="$event.preventDefault()" aria-label="Next">
                  <span aria-hidden="true"><i class="mdi mdi-chevron-right align-middle fs-6"></i></span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-lg-4 col-md-5 col-12 mt-4 pt-2 mt-md-0 pt-md-0">
        <app-blog-sidebars></app-blog-sidebars>
      </div>
    </div>
  </div>
</section>

<app-footer></app-footer>
<app-scroll-to-top></app-scroll-to-top>