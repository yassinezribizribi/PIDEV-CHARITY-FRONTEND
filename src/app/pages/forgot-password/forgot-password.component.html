<app-navbar></app-navbar>

<div class="forgot-password-container">
  <h2>🔒 Mot de passe oublié ?</h2>

  <!-- Message de succès -->
  <div *ngIf="successMessage" class="alert alert-success animate-success">
    ✅ {{ successMessage }}
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="errorMessage" class="alert alert-danger animate-error">
    ❌ {{ errorMessage }}
  </div>

  <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
    <div class="input-group">
      <label for="email">📧 Email</label>
      <input 
        id="email" 
        formControlName="email" 
        type="email" 
        placeholder="Entrez votre email" 
        class="input-field"
      >
      
      <!-- Messages d'erreur sous l'input -->
      <div *ngIf="forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.invalid" class="error-message">
        <small *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">⚠ Email requis</small>
        <small *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">⚠ Format email invalide</small>
      </div>
    </div>

    <!-- Bouton avec loader -->
    <button type="submit" [disabled]="forgotPasswordForm.invalid || isLoading" class="submit-button">
      <span *ngIf="!isLoading">📨 Envoyer</span>
      <span *ngIf="isLoading" class="loader"></span>
    </button>
  </form>

  <div class="link-container">
    <span>🔙 <a routerLink="/login">Retour à la connexion</a></span>
  </div>
</div>

<app-footer></app-footer>
